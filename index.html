<!doctype html>
<html lang="en-US">

<head>
  <meta charset="utf-8" />
  <title>hello-wasm example</title>
</head>

<body>
  <div style="font-size: 14px; max-width: 720px; margin: 0 auto; text-align: center; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">
    <h3>Khmer word segment using fst</h3>
    <textarea name="text" id="text" cols="40" rows="10"></textarea>
    <br>
    <textarea name="out" id="out" cols="40" rows="10"></textarea>
    <br>
    <small id="time"></small>
  </div>
  <script type="module">
    import init, { segment } from "./pkg/khmer_fst.js";
    init().then(() => {
      text.oninput = () => {
        const start = performance.now()
        out.value = JSON.stringify(segment(text.value))
        const delta = performance.now() - start;
        time.textContent = `${delta}ms`;
      }
    });
  </script>
</body>

</html>